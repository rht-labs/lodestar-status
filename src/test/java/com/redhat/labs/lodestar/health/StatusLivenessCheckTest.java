package com.redhat.labs.lodestar.health;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertNotNull;

import javax.inject.Inject;

import org.eclipse.microprofile.health.HealthCheckResponse;
import org.eclipse.microprofile.health.Liveness;
import org.junit.jupiter.api.Test;

import io.quarkus.test.junit.QuarkusTest;

@QuarkusTest
public class StatusLivenessCheckTest {

    @Inject
    @Liveness
    StatusLivenessCheck check;

    @Test
    void testStatusLivenessCheckUp() {

        // when
        HealthCheckResponse response = check.call();

        assertNotNull(response);
        assertEquals("STATUS LIVENESS", response.getName());
        assertNotNull(response.getStatus());
        assertEquals("UP", response.getStatus().name());

    }

}
